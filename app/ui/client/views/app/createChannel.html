<template name="createChannel">
	<section class="create-channel">
		{{#each roomType in roomTypesBeforeStandard}}
			<div class="room-type-creation">
				{{> Template.dynamic template=roomType.creationTemplate }}
			</div>
		{{/each}}
		<div class="create-channel__wrapper">
			<p class="create-channel__description">{{_ "Channels_are_where_your_team_communicate"}}</p>
			<form id="create-channel" name="create-channel" class="create-channel__content">
				<div class="create-channel__switches">
					<div class="rc-switch">
						<label class="rc-switch__label" tabindex="-1">
							<input type="checkbox" class="rc-switch__input" name="type" value="p" checked={{roomTypeIsP}} disabled="{{cantCreateBothTypes}}">
							<span class="rc-switch__button">
								<span class="rc-switch__button-inside"></span>
							</span>
							<span class="rc-switch__text">
								{{typeLabel}}
							</span>
						</label>
						<span class="rc-switch__description">{{typeDescription}}</span>
					</div>
					<div class="rc-switch">
						<label class="rc-switch__label">
							<input type="checkbox" class="rc-switch__input" name="readOnly" checked={{readOnly}} disabled="{{broadcast}}">
							<span class="rc-switch__button">
							<span class="rc-switch__button-inside"></span>
						</span>
							<span class="rc-switch__text">
								{{_ "Read_only_channel"}}
							</span>
						</label>
						<span class="rc-switch__description">{{readOnlyDescription}}</span>
					</div>
					{{#if e2eEnabled}}
						<div class="rc-switch">
							<label class="rc-switch__label">
								<input type="checkbox" class="rc-switch__input" name="encrypted" checked={{encrypted}} disabled="{{encryptedDisabled}}">
								<span class="rc-switch__button">
								<span class="rc-switch__button-inside"></span>
							</span>
								<span class="rc-switch__text">
									{{_"Encrypted"}}
								</span>
							</label>
							<span class="rc-switch__description">
								{{_"Encrypted_channel_Description"}}
							</span>
						</div>
					{{/if}}
					<div class="rc-switch">
						<label class="rc-switch__label">
							<input type="checkbox" class="rc-switch__input" name="broadcast">
							<span class="rc-switch__button">
							<span class="rc-switch__button-inside"></span>
						</span>
							<span class="rc-switch__text">
								{{_"Broadcast_channel"}}
							</span>
						</label>
						<span class="rc-switch__description">
							{{_"Broadcast_channel_Description"}}
						</span>
					</div>
				</div>
				<div class="create-channel__inputs">
					<div class="rc-input {{#if invalidChannel}}rc-input--error{{/if}}">
						<label class="rc-input__label">
							<div class="rc-input__title">{{_ "Channel_name"}}</div>
							<div class="rc-input__wrapper">
								<div class="rc-input__icon">
									{{> icon block="rc-input__icon-svg" icon=iconType }}
								</div>
								<input name="name" type="text" class="rc-input__element"
									   placeholder="{{_ "Channel_Name_Placeholder"}}" autofocus>
							</div>
						</label>
						{{#if inUse}}
							<div class="rc-input__error">
								<div class="rc-input__error-icon">
									{{> icon block="rc-input__error-icon" icon="warning" classes="rc-input__error-icon-svg"}}
								</div>
								<div class="rc-input__error-message">{{_ "Channel_already_exist_static"}}</div>
							</div>
						{{/if}}
					</div>
					<div class="rc-input">
						<label class="rc-input__label">
							<div class="rc-input__title">Gitlab link</div>
							<div class="rc-input__wrapper">
								<div class="rc-input__icon">
									<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><path d="M 38.011719 4 C 37.574219 3.996094 37.183594 4.273438 37.046875 4.691406 L 32.074219 20 L 17.925781 20 L 12.953125 4.691406 C 12.820313 4.289063 12.449219 4.011719 12.023438 4 C 11.597656 3.992188 11.214844 4.25 11.0625 4.648438 L 5.070313 20.640625 C 5.066406 20.640625 5.066406 20.644531 5.0625 20.648438 L 2.0625 28.648438 C 1.90625 29.070313 2.046875 29.542969 2.414063 29.808594 L 24.40625 45.800781 L 24.410156 45.808594 C 24.414063 45.808594 24.414063 45.808594 24.414063 45.8125 C 24.425781 45.820313 24.441406 45.828125 24.453125 45.835938 C 24.46875 45.84375 24.480469 45.855469 24.496094 45.863281 C 24.5 45.863281 24.5 45.867188 24.503906 45.867188 C 24.503906 45.867188 24.507813 45.871094 24.511719 45.871094 C 24.515625 45.875 24.519531 45.878906 24.527344 45.878906 C 24.53125 45.882813 24.539063 45.886719 24.542969 45.890625 C 24.5625 45.898438 24.585938 45.910156 24.609375 45.917969 C 24.609375 45.917969 24.609375 45.917969 24.609375 45.921875 C 24.632813 45.929688 24.65625 45.9375 24.675781 45.945313 C 24.679688 45.945313 24.679688 45.945313 24.683594 45.949219 C 24.699219 45.953125 24.714844 45.957031 24.734375 45.964844 C 24.742188 45.964844 24.75 45.96875 24.761719 45.96875 C 24.761719 45.972656 24.761719 45.972656 24.761719 45.96875 C 24.78125 45.976563 24.800781 45.980469 24.820313 45.984375 C 24.847656 45.988281 24.871094 45.992188 24.898438 45.996094 C 24.9375 45.996094 24.980469 46 25.019531 46 C 25.058594 45.996094 25.09375 45.996094 25.128906 45.988281 C 25.144531 45.988281 25.15625 45.988281 25.171875 45.984375 C 25.171875 45.984375 25.175781 45.984375 25.179688 45.984375 C 25.1875 45.980469 25.191406 45.980469 25.199219 45.980469 C 25.203125 45.980469 25.207031 45.976563 25.214844 45.976563 C 25.222656 45.972656 25.234375 45.972656 25.242188 45.96875 C 25.257813 45.964844 25.269531 45.960938 25.28125 45.957031 C 25.289063 45.957031 25.292969 45.957031 25.296875 45.953125 C 25.300781 45.953125 25.304688 45.953125 25.308594 45.953125 C 25.324219 45.945313 25.34375 45.9375 25.359375 45.933594 C 25.378906 45.925781 25.394531 45.917969 25.410156 45.910156 C 25.414063 45.910156 25.414063 45.910156 25.417969 45.90625 C 25.421875 45.90625 25.425781 45.90625 25.429688 45.902344 C 25.4375 45.898438 25.445313 45.894531 25.453125 45.890625 C 25.476563 45.878906 25.496094 45.867188 25.515625 45.855469 C 25.523438 45.851563 25.527344 45.847656 25.53125 45.84375 C 25.535156 45.84375 25.539063 45.839844 25.542969 45.839844 C 25.558594 45.828125 25.574219 45.820313 25.589844 45.808594 L 25.597656 45.796875 L 47.589844 29.808594 C 47.953125 29.542969 48.09375 29.070313 47.9375 28.648438 L 44.945313 20.675781 C 44.941406 20.667969 44.9375 20.65625 44.9375 20.648438 L 38.9375 4.648438 C 38.789063 4.261719 38.425781 4.003906 38.011719 4 Z M 8.066406 22 L 16.472656 22 L 22.328125 40.015625 Z M 33.527344 22 L 41.933594 22 L 27.671875 40.015625 Z M 6.3125 23.007813 L 19.6875 39.902344 L 4.203125 28.640625 Z M 43.6875 23.007813 L 45.796875 28.640625 L 30.3125 39.902344 Z"/></svg>
								</div>
								<div class="rc-tags">
									 <input type="text" class="rc-tags__input" placeholder="{{_ "Gitlab_placeholder"}}" name="gitlabLink" autocomplete="off"/>
								</div>
							</div>
							 
						</label>
					</div>
					<div class="rc-input">
						<label class="rc-input__label">
							<div class="rc-input__title">Jira link</div>
							<div class="rc-input__wrapper">
								<div class="rc-input__icon">
									<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44.169 45.988" width="50px" height="50px"><path d="M 21.955078 0 A 1.029 1.029 0 0 0 21.292969 0.28125 A 11.988 11.988 0 0 0 18 7.9882812 A 11.982 11.982 0 0 0 21.292969 15.699219 L 22.169922 16.578125 L 23.5 17.900391 L 28.585938 22.986328 L 23.5 28.074219 L 24.292969 28.867188 A 13.886 13.886 0 0 1 28.171875 37.988281 A 11.481 11.481 0 0 1 27.880859 40.521484 L 43.292969 25.109375 A 3 3 0 0 0 43.292969 20.867188 L 22.705078 0.28125 A 1.029 1.029 0 0 0 21.955078 0 z M 16.289062 5.4550781 L 0.87695312 20.867188 A 3 3 0 0 0 0.87695312 25.109375 L 21.462891 45.699219 A 1 1 0 0 0 22.876953 45.699219 A 11.982 11.982 0 0 0 26.169922 37.992188 A 11.988 11.988 0 0 0 22.876953 30.285156 L 15.583984 22.988281 L 20.669922 17.900391 L 19.876953 17.107422 A 13.877 13.877 0 0 1 16 7.9882812 A 11.478 11.478 0 0 1 16.289062 5.4550781 z"/></svg>
								</div>
								<div class="rc-tags">
									 <input type="text" class="rc-tags__input" placeholder="{{_ "Jira_placeholder"}}" name="jiraLink" autocomplete="off"/>
								</div>
							</div>
							 
						</label>
					</div>
					<div class="rc-input">
						<label class="rc-input__label">
							<div class="rc-input__title">Google drive link</div>
							<div class="rc-input__wrapper">
								<div class="rc-input__icon">
									<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><path d="M 16.40625 4 C 16.132813 4.058594 15.894531 4.226563 15.75 4.46875 L 0.15625 29.46875 C -0.03125 29.757813 -0.0546875 30.125 0.09375 30.4375 L 7.90625 46.4375 C 8.074219 46.785156 8.425781 47.003906 8.8125 47 L 40.3125 47 C 40.679688 46.996094 41.015625 46.792969 41.1875 46.46875 L 49.875 30.46875 C 50.042969 30.152344 50.03125 29.773438 49.84375 29.46875 L 34.25 4.46875 C 34.066406 4.175781 33.75 4 33.40625 4 L 16.59375 4 C 16.5625 4 16.53125 4 16.5 4 C 16.46875 4 16.4375 4 16.40625 4 Z M 17.28125 6 L 32.84375 6 L 47.53125 29.5625 L 29.40625 24 Z M 16.9375 6.375 L 21.09375 23.40625 L 9.375 44.9375 L 2.15625 30.0625 Z M 24.8125 21.40625 L 29.6875 29 L 20.3125 29 Z M 47.8125 30.0625 L 39.71875 45 L 9.9375 45 L 25 31.5 Z"/></svg>
								</div>
								<div class="rc-tags">
									 <input type="text" class="rc-tags__input" placeholder="{{_ "Google_drive_placeholder"}}" name="driveLink" autocomplete="off"/>
								</div>
							</div>
							 
						</label>
					</div>
					<div class="rc-input">
						<label class="rc-input__label">
							<div class="rc-input__title">Google sheet link</div>
							<div class="rc-input__wrapper">
								<div class="rc-input__icon">
									<svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px"><path d="M 11.5 2 C 9.574219 2 8 3.550781 8 5.46875 L 8 43.90625 C 8 46.167969 9.855469 48 12.125 48 L 37.875 48 C 40.144531 48 42 46.167969 42 43.90625 L 42 14.5 C 42 14.234375 41.90625 13.96875 41.71875 13.78125 L 30.21875 2.28125 C 30.03125 2.09375 29.765625 2 29.5 2 Z M 30 4.90625 L 39.09375 14 L 31.65625 14 C 30.738281 14 30 13.261719 30 12.34375 Z M 17 24 L 33 24 L 33 38 L 17 38 Z M 19 26 L 19 28 L 24 28 L 24 26 Z M 26 26 L 26 28 L 31 28 L 31 26 Z M 19 30 L 19 32 L 24 32 L 24 30 Z M 26 30 L 26 32 L 31 32 L 31 30 Z M 19 34 L 19 36 L 24 36 L 24 34 Z M 26 34 L 26 36 L 31 36 L 31 34 Z"/></svg>
								</div>
								<div class="rc-tags">
									 <input type="text" class="rc-tags__input" placeholder="{{_ "Google_sheet_placeholder"}}" name="sheetLink" autocomplete="off"/>
								</div>
							</div>
							 
						</label>
					</div>
					<div class="rc-input">
						<label class="rc-input__label">
							<div class="rc-input__title">{{_ "Invite_Users"}}</div>
							<div class="rc-input__wrapper">
								<div class="rc-input__icon">
									{{> icon block="rc-input__icon-svg" icon="at"}}
								</div>
								<div class="rc-tags">
									{{#each user in selectedUsers}}
										{{> tag user}}
									{{/each}}
									<input type="text" class="rc-tags__input" placeholder="{{_ "Username_Placeholder"}}" name="users" autocomplete="off"/>
								</div>
							</div>
							{{#with config}}
								{{#if autocomplete 'isShowing'}}
									{{> popupList data=config items=items ready=(autocomplete 'isLoaded')}}
								{{/if}}
							{{/with}}
						</label>
					</div>
				</div>
				{{#if tokenAccessEnabled}}
					<div class="create-channel__switches">
						<div class="rc-switch">
							<label class="rc-switch__label" tabindex="-1">
								<input type="checkbox" class="rc-switch__input" name="setTokensRequired" {{tokenIsDisabled}}>
								<span class="rc-switch__button">
									<span class="rc-switch__button-inside"></span>
								</span>
								<span class="rc-switch__text">
									{{_ "Token_Controlled_Access"}}
								</span>
							</label>
						</div>
					</div>
					{{#if tokensRequired}}
						{{> tokenpass extensionsConfig}}
					{{/if}}
				{{/if}}
			</form>
			<div class="create-channel__inputs">
				<input form='create-channel' class="rc-button rc-button--primary" type='submit'   data-button="create" {{createIsDisabled}} value="{{_ "Create"}}" />
			</div>
		</div>
		{{#each roomType in roomTypesAfterStandard}}
			<div class="room-type-creation">
				{{> Template.dynamic template=roomType.creationTemplate }}
			</div>
		{{/each}}
	</section>
</template>

<template name="tokenpass">
	<fieldset class="rc-form-fieldset {{#if invalid}}rc-form-fieldset--error{{/if}}">
		<legend class="rc-form-legend">Tokenpass</legend>

		<div class="create-channel__switches">
			<div class="rc-switch">
				<label class="rc-switch__label" tabindex="-1">
					<input type="checkbox" class="rc-switch__input" name="tokenRequireAll" value="all" checked>
					<span class="rc-switch__button">
						<span class="rc-switch__button-inside"></span>
					</span>
					<span class="rc-switch__text">
						{{tokenRequiment}}
					</span>
				</label>
				<span class="rc-switch__description">{{tokenRequimentDescription}}</span>
			</div>
		</div>

		<div class="rc-input {{#if invalidTokens}}rc-input--error{{/if}}">
			<label class="rc-input__label">
				<div class="rc-input__title">{{_ "Tokens_Required"}}</div>
				<div class="rc-input__wrapper">
					<input name="tokensRequired" type="text" class="rc-input__element" placeholder="{{_ "Tokens_Required_Input_Placeholder"}}">
				</div>
			</label>
			<div class="rc-input__description">{{_ "Tokens_Required_Input_Description"}}</div>
		</div>
		<div class="rc-input">
			<label class="rc-input__label">
				<div class="rc-input__title">{{_ "Tokens_Minimum_Needed_Balance"}}</div>
				<div class="rc-input__wrapper">
					<input name="tokenMinimumNeededBalance" type="number" class="rc-input__element" placeholder="{{_ "Tokens_Minimum_Needed_Balance_Placeholder"}}" min="0">
				</div>
			</label>
			<div class="rc-input__description">{{_ "Tokens_Minimum_Needed_Balance_Description"}}</div>
		</div>
		{{#if selectedTokens}}
			<div class="rc-input">
				<label class="rc-input__label">
					<div class="rc-input__title">Tokens</div>
					<div class="rc-input__wrapper">
						<div class="rc-tags rc-tags--no-icon">
							{{#each token in selectedTokens}}
								{{> tagToken token}}
							{{/each}}
						</div>
					</div>
				</label>
			</div>
		{{/if}}

		<input class="rc-button rc-button--primary rc-button--full" type="submit" data-button="add" {{addIsDisabled}} value="{{_ "Add"}}">

	</fieldset>
</template>

<template name='tag'>
	<span class="rc-tags__tag">
		{{#if username}}
			<span class="rc-tags__tag-image">
				{{> avatar username=username}}
			</span>
			<span class="rc-tags__tag-text">{{username}}</span>
		{{else}}
			<span class="rc-tags__tag-text">{{text}}</span>
		{{/if}}
		{{> icon block="rc-tags__tag-icon" icon="cross"}}
	</span>
</template>

<template name='tagToken'>
	<span class="rc-tags__tag">
		<span class="rc-tags__tag-text rc-tooltip" aria-label="balance: {{balance}}">{{token}}</span>
		{{> icon block="rc-tags__tag-icon" icon="cross"}}
	</span>
</template>
